(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[514],{2268:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/editblog/[id]",function(){return n(5834)}])},5834:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var i=n(797),l=n(5893),o=n(594),r=n(9008),s=n.n(r),d=n(5675),u=n.n(d),a=n(1664),c=n.n(a),p=n(1163),x=n(7294),h=n(214),f=n.n(h);function g(){var e=(0,p.useRouter)(),t=(0,x.useState)(null),n=t[0],r=t[1];(0,x.useEffect)(function(){o.Z.get("http://localhost:3000/blogs/"+e.query.id).then(function(e){var t,n;r(e.data[0]),w(null!==(n=null===(t=e.data[0])||void 0===t?void 0:t.sections)&&void 0!==n?n:[]),console.log(e.data)}).catch(function(e){alert(e)})},[]);var d=(0,x.useRef)(null),a=(0,x.useRef)(null),h=(0,x.useRef)(null),g=(0,x.useRef)(null),m=(0,x.useRef)(null),v=(0,x.useRef)(null),j=(0,x.useRef)(null),y=(0,x.useRef)(null);(0,x.useRef)(null);var b=(0,x.useState)([]),_=b[0],w=b[1],k=function(e){var t=_.filter(function(t){return t!=e});w((0,i.Z)(t))},S=function(e){o.Z.post("http://localhost:3000/blogs/delete/"+e)},B=function(){var t,n,i,l,r,s,u,c,p,x,f,b,w,k,B,C,R,z,T=new Date,A=new FormData;A.append("title",null!==(f=null==d?void 0:null===(t=d.current)||void 0===t?void 0:t.value)&&void 0!==f?f:""),A.append("subtext",null!==(b=null==a?void 0:null===(n=a.current)||void 0===n?void 0:n.value)&&void 0!==b?b:""),A.append("image1",null!==(w=null==h?void 0:null===(i=h.current)||void 0===i?void 0:null===(l=i.files)||void 0===l?void 0:l[0])&&void 0!==w?w:""),A.append("image2",null!==(k=null==g?void 0:null===(r=g.current)||void 0===r?void 0:null===(s=r.files)||void 0===s?void 0:s[0])&&void 0!==k?k:""),A.append("facebook_link",null!==(B=null==m?void 0:null===(u=m.current)||void 0===u?void 0:u.value)&&void 0!==B?B:""),A.append("twitter_link",null!==(C=null==v?void 0:null===(c=v.current)||void 0===c?void 0:c.value)&&void 0!==C?C:""),A.append("linkedin_link",null!==(R=null==j?void 0:null===(p=j.current)||void 0===p?void 0:p.value)&&void 0!==R?R:""),A.append("instagram_link",null!==(z=null==y?void 0:null===(x=y.current)||void 0===x?void 0:x.value)&&void 0!==z?z:""),A.append("date",T.getFullYear()+"-"+(T.getMonth()+1>9?T.getMonth()+1:"0"+(T.getMonth()+1))+"-"+(T.getDate()>9?T.getDate():"0"+T.getDate())),A.append("sections",JSON.stringify(_));for(var D=document.getElementsByClassName("image3"),E=0;E<D.length;E++)A.append("image3",D[E].files[0]);o.Z.post("http://localhost:3000/blogs/add",A,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){S(e.query.id),alert("Submitted"),e.push("/admin/blogs")}).catch(function(e){console.log(e),alert(e)})};return(0,l.jsxs)("div",{className:f().container,children:[(0,l.jsxs)(s(),{children:[(0,l.jsx)("title",{children:"Borgfy"}),(0,l.jsx)("meta",{name:"description",content:"Generated by Borgfy"}),(0,l.jsx)("link",{rel:"icon",href:"/logo_white.png"})]}),(0,l.jsxs)("main",{style:{backgroundColor:"white",color:"black"},children:[(0,l.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",backgroundColor:"lightblue",padding:"10px"},children:(0,l.jsx)(u(),{src:"/../public/logo_white.png",width:"159px",height:"70px"})}),(0,l.jsxs)("div",{style:{padding:"20px"},children:[(0,l.jsx)(c(),{href:"/admin/blogs",children:(0,l.jsx)("h2",{style:{cursor:"pointer",width:"fit-content",padding:"10px 20px",color:"white",backgroundColor:"lightblue",borderRadius:"10px"},children:"Back to Blogs"})}),(0,l.jsx)("h1",{children:"Welcome, Admin"}),(0,l.jsx)("h2",{children:"Borgyfy -- Add Blog"}),(0,l.jsx)("br",{}),(0,l.jsx)("h2",{children:"Blog Details:"}),(0,l.jsx)("h4",{style:{marginBottom:"2px"},children:"Title"}),(0,l.jsx)("input",{defaultValue:null==n?void 0:n.title,ref:d,style:{fontSize:"20px"}}),(0,l.jsx)("br",{}),(0,l.jsx)("h4",{style:{marginBottom:"2px"},children:"Description"}),(0,l.jsx)("textarea",{ref:a,style:{fontSize:"20px",height:"100px",width:"500px"}}),(0,l.jsx)("br",{}),(0,l.jsx)("h4",{style:{marginBottom:"2px"},children:"Featured Image"}),(0,l.jsx)("input",{type:"file",ref:h,style:{width:"500px",fontSize:"20px"}}),(0,l.jsx)("br",{}),(0,l.jsx)("h4",{style:{marginBottom:"2px"},children:"Secondary Featured Image"}),(0,l.jsx)("input",{type:"file",ref:g,style:{width:"500px",fontSize:"20px"}}),(0,l.jsx)("br",{}),(0,l.jsx)("h4",{style:{marginBottom:"2px"},children:"Facebook Link"}),(0,l.jsx)("input",{defaultValue:null==n?void 0:n.facebook_link,ref:m,style:{width:"500px",fontSize:"20px"}}),(0,l.jsx)("br",{}),(0,l.jsx)("h4",{style:{marginBottom:"2px"},children:"Twitter Link"}),(0,l.jsx)("input",{defaultValue:null==n?void 0:n.twitter_link,ref:v,style:{width:"500px",fontSize:"20px"}}),(0,l.jsx)("br",{}),(0,l.jsx)("h4",{style:{marginBottom:"2px"},children:"Linkedin Link"}),(0,l.jsx)("input",{defaultValue:null==n?void 0:n.linkedin_link,ref:j,style:{width:"500px",fontSize:"20px"}}),(0,l.jsx)("br",{}),(0,l.jsx)("h4",{style:{marginBottom:"2px"},children:"Instagram Link"}),(0,l.jsx)("input",{defaultValue:null==n?void 0:n.instagram_link,ref:y,style:{width:"500px",fontSize:"20px"}}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)("h2",{children:"Blog Sections: "}),(0,l.jsx)("br",{}),_.map(function(e,t){return(0,l.jsxs)(x.Fragment,{children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"fit-content"},children:[(0,l.jsx)("h4",{style:{marginBottom:"2px"},children:"Title of Section"}),(0,l.jsx)("div",{onClick:function(){k(e)},style:{marginLeft:"30px",cursor:"pointer"},children:(0,l.jsx)(u(),{src:"/../public/rm_icon.png",width:"24px",height:"24px"})})]}),(0,l.jsx)("input",{value:_[t].title,style:{fontSize:"20px"},onChange:function(e){_[t].title=e.target.value,w((0,i.Z)(_))}})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{style:{marginBottom:"2px"},children:"Description of Section"}),(0,l.jsx)("textarea",{value:_[t].description,onChange:function(e){_[t].description=e.target.value,w((0,i.Z)(_))},style:{fontSize:"20px",height:"100px",width:"500px"}})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{children:"Image of Section"}),(0,l.jsx)("input",{style:{fontSize:"20px"},type:"file",className:"image3"})]}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{})]},t)}),(0,l.jsx)("p",{onClick:function(){_.push({title:"",description:""}),w((0,i.Z)(_))},style:{marginTop:"10px",color:"white",background:"lightblue",padding:"10px",width:"fit-content",cursor:"pointer"},children:"Add Section"}),(0,l.jsx)("p",{onClick:B,style:{marginTop:"10px",color:"white",background:"lightblue",padding:"10px",width:"fit-content",cursor:"pointer"},children:"Submit"})]})]})]})}},214:function(e){e.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}},797:function(e,t,n){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function l(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{Z:function(){return l}})}},function(e){e.O(0,[247,594,774,888,179],function(){return e(e.s=2268)}),_N_E=e.O()}]);